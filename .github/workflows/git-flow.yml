# =====================================================================
# ğŸ”„ GIT FLOW WORKFLOW
# =====================================================================
name: ğŸ”„ Git Flow

# ---------------------------------------------------------------------
# ğŸ“‹ WORKFLOW TRIGGERS
# ---------------------------------------------------------------------
on:
  push:
    branches:
      - 'feature/*'  # ğŸŒŸ Trigger for pushes to feature branches
      - 'bugfix/*'   # ğŸ› Trigger for pushes to bugfix branches
      - 'release/*'  # ğŸ“¦ Trigger for pushes to release branches
      - 'hotfix/*'   # ğŸ”¥ Trigger for pushes to hotfix branches

# ---------------------------------------------------------------------
# ğŸ’¼ JOBS
# ---------------------------------------------------------------------
jobs:
  create-pull-request:
    runs-on: ubuntu-latest
    name: ğŸ“ Create Pull Request
    permissions: write-all
    timeout-minutes: 5

    steps:
      # ğŸ“¥ CHECKOUT CODE
      - name: ğŸ“¥ Checkout Repository Code
        uses: actions/checkout@v5.0.1

      # ğŸ”€ EXECUTE GIT FLOW
      - name: ğŸ”€ Execute Git Flow Action
        uses: nekofar/git-flow-action@develop
        with:
          # ğŸ”‘ Authentication token
          github-token: ${{ secrets.GITHUB_TOKEN }}
          
          # ğŸ¯ TARGET BRANCHES
          # Main production branch
          master-branch: 'master'
          # Development branch
          develop-branch: 'develop'
          
          # ğŸ·ï¸ BRANCH PREFIXES
          # New features
          feature-prefix: 'feature/'
          # Bug fixes
          bugfix-prefix: 'bugfix/'
          # Version releases
          release-prefix: 'release/'
          # Critical fixes
          hotfix-prefix: 'hotfix/'
